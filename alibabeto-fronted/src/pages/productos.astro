---
import { type Producto } from '../types/Productos'
import { type BasicResponse } from '../types/API'
import Layout from '../layouts/Layout.astro'
import Card from '../components/Card.astro'
import { API } from '../api/index'

const user = Astro.locals.user;

console.log(user);

// if (!user) {
// 	return Astro.redirect("/login");
// }



// const response = await fetch(`${API.dataUrl}/producto/query?`, {
//     method: 'GET'
// });

// console.log("response");

// const { data }: BasicResponse<Producto[]> = await response.json();

// console.log(data);

---

<Layout
title='Productos - Alibabeto'
>
    aqui
    <!-- {JSON.stringify(user , null , 3)} -->
    <pre>
        {JSON.stringify(user , null , 3)}
    </pre>
    <!-- {JSON.stringify(session , null , 3)} -->
    <!-- esta linea hace las columnas las clases de tailwind -->
   <section class="grid md:grid-cols-3 gap-5 my-10">
    
    <!-- aqui renderizo los productos -->
    <!-- {
        data?.map( (producto:Producto) => (
            <Card
                {
                    ...producto
                }
            />
        ))
    } -->
    
   </section>
</Layout>